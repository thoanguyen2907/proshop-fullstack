{"ast":null,"code":"import _asyncToGenerator from\"/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import{CART_ADD_ITEM,CART_REMOVE_ITEM,CART_SAVE_PAYMENT_METHOD,CART_SAVE_SHIPPING_ADDRESS}from'../constants/constants';export var addToCart=function addToCart(id,quantity){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:5000/api/products/\".concat(id));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch({type:CART_ADD_ITEM,payload:{product:data._id,name:data.name,image:data.image,price:data.price,countInStock:data.countInStock,quantity:quantity}});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removeFromCart=function removeFromCart(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:try{dispatch({type:CART_REMOVE_ITEM,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));}catch(error){console.log(error);}case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();};export var saveShippingAddress=function saveShippingAddress(data){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:try{dispatch({type:CART_SAVE_SHIPPING_ADDRESS,payload:data});localStorage.setItem('shippingAddress',JSON.stringify(getState().cart.shippingAddress));}catch(error){console.log(error);}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();};export var savePaymentMethod=function savePaymentMethod(data){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:try{dispatch({type:CART_SAVE_PAYMENT_METHOD,payload:data});localStorage.setItem('paymentMethod',JSON.stringify(data));}catch(error){console.log(error);}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/src/redux/actions/cartAction.js"],"names":["axios","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_PAYMENT_METHOD","CART_SAVE_SHIPPING_ADDRESS","addToCart","id","quantity","dispatch","getState","get","data","type","payload","product","_id","name","image","price","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","console","log","removeFromCart","error","saveShippingAddress","shippingAddress","savePaymentMethod"],"mappings":"iWAAA,MAAQA,CAAAA,KAAR,KAAmB,OAAnB,CACA,OAASC,aAAT,CAAwBC,gBAAxB,CAA0CC,wBAA1C,CAAoEC,0BAApE,KAAsG,wBAAtG,CAGA,MAAO,IAAMC,CAAAA,SAAS,CAAK,QAAdA,CAAAA,SAAc,CAACC,EAAD,CAAKC,QAAL,CAAkB,CACzC,+FAAO,iBAAOC,QAAP,CAAiBC,QAAjB,kLAGkBT,CAAAA,KAAK,CAACU,GAAN,8CAAgDJ,EAAhD,EAHlB,uCAGIK,IAHJ,kBAGIA,IAHJ,CAIHH,QAAQ,CAAC,CACLI,IAAI,CAAEX,aADD,CAELY,OAAO,CAAE,CACLC,OAAO,CAAEH,IAAI,CAACI,GADT,CAELC,IAAI,CAAEL,IAAI,CAACK,IAFN,CAGLC,KAAK,CAAEN,IAAI,CAACM,KAHP,CAILC,KAAK,CAAEP,IAAI,CAACO,KAJP,CAKLC,YAAY,CAAER,IAAI,CAACQ,YALd,CAMLZ,QAAQ,CAARA,QANK,CAFJ,CAAD,CAAR,CAWAa,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAAlC,EAfG,+EAkBJC,OAAO,CAACC,GAAR,cAlBI,oEAAP,mEAqBH,CAtBM,CA0BP,MAAO,IAAMC,CAAAA,cAAc,CAAK,QAAnBA,CAAAA,cAAmB,CAACtB,EAAD,CAAQ,CACpC,gGAAO,kBAAOE,QAAP,CAAiBC,QAAjB,sHACP,GAAI,CAEAD,QAAQ,CAAC,CACLI,IAAI,CAAEV,gBADD,CAELW,OAAO,CAAEP,EAFJ,CAAD,CAAR,CAIAc,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBC,SAA/B,CAAlC,EAEH,CAAC,MAAMI,KAAN,CAAa,CACZH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACF,CAXM,wDAAP,qEAaH,CAdM,CAgBP,MAAO,IAAMC,CAAAA,mBAAmB,CAAK,QAAxBA,CAAAA,mBAAwB,CAACnB,IAAD,CAAU,CAC3C,gGAAO,kBAAOH,QAAP,CAAiBC,QAAjB,sHACP,GAAI,CAEAD,QAAQ,CAAC,CACLI,IAAI,CAAER,0BADD,CAELS,OAAO,CAAEF,IAFJ,CAAD,CAAR,CAIAS,YAAY,CAACC,OAAb,CAAqB,iBAArB,CAAwCC,IAAI,CAACC,SAAL,CAAed,QAAQ,GAAGe,IAAX,CAAgBO,eAA/B,CAAxC,EAEH,CAAC,MAAMF,KAAN,CAAa,CACZH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACF,CAXM,wDAAP,qEAaH,CAdM,CAgBP,MAAO,IAAMG,CAAAA,iBAAiB,CAAK,QAAtBA,CAAAA,iBAAsB,CAACrB,IAAD,CAAU,CACzC,gGAAO,kBAAOH,QAAP,CAAiBC,QAAjB,sHACP,GAAI,CAEAD,QAAQ,CAAC,CACLI,IAAI,CAAET,wBADD,CAELU,OAAO,CAAEF,IAFJ,CAAD,CAAR,CAIAS,YAAY,CAACC,OAAb,CAAqB,eAArB,CAAsCC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAAtC,EAEH,CAAC,MAAMkB,KAAN,CAAa,CACZH,OAAO,CAACC,GAAR,CAAYE,KAAZ,EACF,CAXM,wDAAP,qEAaH,CAdM","sourcesContent":["import  axios from 'axios' \nimport { CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from '../constants/constants'\n\n\nexport const addToCart  =  (id, quantity) => {\n    return async (dispatch, getState) => {\n    try {\n       \n        const {data} = await axios.get(`http://localhost:5000/api/products/${id}`)\n        dispatch({\n            type: CART_ADD_ITEM,\n            payload: {\n                product: data._id,\n                name: data.name,\n                image: data.image, \n                price: data.price, \n                countInStock: data.countInStock,\n                quantity\n            }\n        }) \n        localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\n\n    } catch(error) {\n       console.log(error);\n    }\n    }\n}\n\n\n\nexport const removeFromCart  =  (id) => {\n    return async (dispatch, getState) => {\n    try { \n      \n        dispatch({\n            type: CART_REMOVE_ITEM,\n            payload: id\n        }) \n        localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems))\n\n    } catch(error) {\n       console.log(error);\n    }\n    }\n}\n\nexport const saveShippingAddress  =  (data) => {\n    return async (dispatch, getState) => {\n    try { \n      \n        dispatch({\n            type: CART_SAVE_SHIPPING_ADDRESS,\n            payload: data\n        }) \n        localStorage.setItem('shippingAddress', JSON.stringify(getState().cart.shippingAddress))\n\n    } catch(error) {\n       console.log(error);\n    }\n    }\n}\n\nexport const savePaymentMethod  =  (data) => {\n    return async (dispatch, getState) => {\n    try { \n      \n        dispatch({\n            type: CART_SAVE_PAYMENT_METHOD,\n            payload: data\n        }) \n        localStorage.setItem('paymentMethod', JSON.stringify(data))\n\n    } catch(error) {\n       console.log(error);\n    }\n    }\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}