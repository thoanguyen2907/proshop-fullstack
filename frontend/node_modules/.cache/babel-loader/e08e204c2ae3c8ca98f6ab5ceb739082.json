{"ast":null,"code":"import React,{lazy,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{NavLink}from'react-router-dom';import{deleteUser,getUserList}from'../redux/actions/userAction';import{history}from'../utils/history/history';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserScreen(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.userList;}),loading=_useSelector.loading,users=_useSelector.users;var _useSelector2=useSelector(function(state){return state.userLogin;}),userInfo=_useSelector2.userInfo;var deleteHandler=function deleteHandler(id){dispatch(deleteUser(id));};useEffect(function(){if(userInfo&&userInfo.isAdmin){dispatch(getUserList());}else{history.push(\"/login\");}// dispatch(getUserList())\n},[dispatch,userInfo]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loading?/*#__PURE__*/_jsx(\"h3\",{children:\"Loading\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(user.email),children:user.email})}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(NavLink,{to:\"/admin/edit/user/\".concat(user._id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-danger\",onClick:function onClick(){return deleteHandler(user._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},index);})})]})]});}","map":{"version":3,"sources":["/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/src/screens/UserScreen.js"],"names":["React","lazy","useEffect","useDispatch","useSelector","NavLink","deleteUser","getUserList","history","UserScreen","dispatch","state","userList","loading","users","userLogin","userInfo","deleteHandler","id","isAdmin","push","map","user","index","_id","name","email","color"],"mappings":"AACA,MAAOA,CAAAA,KAAP,EAAgBC,IAAhB,CAAsBC,SAAtB,KAAuC,OAAvC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,OAAT,KAAwB,kBAAxB,CACA,OAASC,UAAT,CAAqBC,WAArB,KAAwC,6BAAxC,CACA,OAASC,OAAT,KAAwB,0BAAxB,C,wFAEA,cAAe,SAASC,CAAAA,UAAT,EAAsB,CACjC,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CACA,iBAAyBC,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,QAAV,EAAN,CAApC,CAAOC,OAAP,cAAOA,OAAP,CAAgBC,KAAhB,cAAgBA,KAAhB,CACA,kBAAmBV,WAAW,CAAC,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACI,SAAV,EAAN,CAA9B,CAAOC,QAAP,eAAOA,QAAP,CAEA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,EAAD,CAAQ,CAC1BR,QAAQ,CAACJ,UAAU,CAACY,EAAD,CAAX,CAAR,CACH,CAFD,CAGAhB,SAAS,CAAC,UAAM,CACZ,GAAGc,QAAQ,EAAIA,QAAQ,CAACG,OAAxB,CAAiC,CAC7BT,QAAQ,CAACH,WAAW,EAAZ,CAAR,CACH,CAFD,IAEO,CACHC,OAAO,CAACY,IAAR,CAAa,QAAb,EACH,CACD;AACH,CAPQ,CAON,CAACV,QAAD,CAAWM,QAAX,CAPM,CAAT,CASF,mBAAO,aAAK,SAAS,CAAC,WAAf,wBAEH,6BAFG,CAGFH,OAAO,cAAG,+BAAH,cACJ,eAAO,SAAS,CAAC,OAAjB,wBACI,oCACI,mCACI,0BADJ,cAEI,4BAFJ,cAGI,6BAHJ,cAII,6BAJJ,cAKI,aALJ,GADJ,EADJ,cAUI,uBACKC,KAAK,CAACO,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACrB,mBAAO,mCACN,oBAAKD,IAAI,CAACE,GAAV,EADM,cAEN,oBAAKF,IAAI,CAACG,IAAV,EAFM,cAGN,iCACE,UAAG,IAAI,kBAAYH,IAAI,CAACI,KAAjB,CAAP,UAAkCJ,IAAI,CAACI,KAAvC,EADF,EAHM,cAMN,oBACGJ,IAAI,CAACH,OAAL,cACC,UAAG,SAAS,CAAC,cAAb,CAA4B,KAAK,CAAE,CAAEQ,KAAK,CAAE,OAAT,CAAnC,EADD,cAGC,UAAG,SAAS,CAAC,cAAb,CAA4B,KAAK,CAAE,CAAEA,KAAK,CAAE,KAAT,CAAnC,EAJJ,EANM,cAaN,mCACE,KAAC,OAAD,EAAS,EAAE,4BAAsBL,IAAI,CAACE,GAA3B,CAAX,uBACE,eAAQ,SAAS,CAAC,WAAlB,uBACE,UAAG,SAAS,CAAC,aAAb,EADF,EADF,EADF,cAME,eAEE,SAAS,CAAC,YAFZ,CAGE,OAAO,CAAE,yBAAMP,CAAAA,aAAa,CAACK,IAAI,CAACE,GAAN,CAAnB,EAHX,uBAKE,UAAG,SAAS,CAAC,cAAb,EALF,EANF,GAbM,GAASD,KAAT,CAAP,CA4BN,CA7BA,CADL,EAVJ,GAJD,GAAP,CAiDD","sourcesContent":["\nimport React, { lazy, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { deleteUser, getUserList } from '../redux/actions/userAction';\nimport { history } from '../utils/history/history';\n\nexport default function UserScreen() {\n    const dispatch = useDispatch()\n    const {loading, users} = useSelector(state => state.userList)\n    const {userInfo} = useSelector(state => state.userLogin)\n\n    const deleteHandler = (id) => {\n        dispatch(deleteUser(id))\n    }\n    useEffect(() => {\n        if(userInfo && userInfo.isAdmin) {\n            dispatch(getUserList())\n        } else {\n            history.push(\"/login\")\n        }\n        // dispatch(getUserList())\n    }, [dispatch, userInfo]);\n\n  return <div className='container'>\n      \n      <h1>Users</h1> \n      {loading ? <h3>Loading</h3> : (\n          <table className=\"table\">\n              <thead>\n                  <tr>\n                      <th>ID</th>\n                      <th>NAME</th>\n                      <th>EMAIL</th>\n                      <th>ADMIN</th>\n                      <th></th>\n                  </tr>\n              </thead>\n              <tbody>\n                  {users.map((user, index) => {\n                         return <tr key={index}>\n                          <td>{user._id}</td>\n                          <td>{user.name}</td>\n                          <td>\n                            <a href={`mailto:${user.email}`}>{user.email}</a>\n                          </td>\n                          <td>\n                            {user.isAdmin ? (\n                              <i className='fas fa-check' style={{ color: 'green' }}></i>\n                            ) : (\n                              <i className='fas fa-times' style={{ color: 'red' }}></i>\n                            )}\n                          </td>\n                          <td>\n                            <NavLink to={`/admin/edit/user/${user._id}`}>\n                              <button className='btn-light'>\n                                <i className='fas fa-edit'></i>\n                              </button>\n                            </NavLink>\n                            <button\n                   \n                              className='btn-danger'\n                              onClick={() => deleteHandler(user._id)}\n                            >\n                              <i className='fas fa-trash'></i>\n                            </button>\n                          </td>\n                        </tr>\n                  })}\n              </tbody>\n          </table>\n      )}\n      </div>;\n}\n"]},"metadata":{},"sourceType":"module"}