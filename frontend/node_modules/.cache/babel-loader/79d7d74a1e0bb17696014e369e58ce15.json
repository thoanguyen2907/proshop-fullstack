{"ast":null,"code":"var _jsxFileName = \"/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/src/screens/OrderScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { createOrder, getOrderDetail } from '../redux/actions/orderAction';\nimport { history } from '../utils/history/history';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OrderScreen(_ref) {\n  _s();\n\n  var _order$user, _order$user2, _order$user3;\n\n  let {\n    match\n  } = _ref;\n  const dispatch = useDispatch();\n  const orderId = match.params.id;\n  const orderDetail = useSelector(state => state.orderDetail);\n  const [sdkReady, setSdkReady] = useState(false);\n  const {\n    order,\n    loading\n  } = orderDetail;\n  const orderPay = useSelector(state => state.orderPay);\n  const {\n    loading: loadingPay,\n    success: successPay\n  } = orderPay;\n  useEffect(() => {\n    const addPayPalScript = async () => {\n      const {\n        data: clientId\n      } = await axios.get('http://localhost:5000/api/config/paypal');\n      console.log(clientId);\n      const script = document.createElement('script');\n      script.type = \"text/javascript\";\n      script.async = true;\n      script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\n\n      script.onload = () => {\n        setSdkReady(true);\n      };\n\n      document.body.appendChild(script);\n    };\n\n    if (!order || successPay) {\n      dispatch(getOrderDetail(orderId));\n    }\n\n    addPayPalScript();\n  }, [dispatch, orderId, successPay, order]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(CheckoutSteps, {\n      step1: true,\n      step2: true,\n      step3: true,\n      step4: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), \"OrderScreen\", /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Order \", order === null || order === void 0 ? void 0 : order._id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-8\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Shipping\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name : \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 27\n              }, this), \" \", order === null || order === void 0 ? void 0 : (_order$user = order.user) === null || _order$user === void 0 ? void 0 : _order$user.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 27\n              }, this), \" \", ' ', /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `mailto: ${order === null || order === void 0 ? void 0 : (_order$user2 = order.user) === null || _order$user2 === void 0 ? void 0 : _order$user2.email}`,\n                children: order === null || order === void 0 ? void 0 : (_order$user3 = order.user) === null || _order$user3 === void 0 ? void 0 : _order$user3.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Address:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this), order === null || order === void 0 ? void 0 : order.shippingAddress.address, \", \", order === null || order === void 0 ? void 0 : order.shippingAddress.city, ' ', order === null || order === void 0 ? void 0 : order.shippingAddress.postalCode, \",\", ' ', order === null || order === void 0 ? void 0 : order.shippingAddress.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 23\n            }, this), order !== null && order !== void 0 && order.isDelivered ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger\",\n              children: [\"Delivered on \", order === null || order === void 0 ? void 0 : order.deliveredAt]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger\",\n              children: \"Not Delivered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Method: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), order === null || order === void 0 ? void 0 : order.paymentMethod]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), order !== null && order !== void 0 && order.isPaid ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger\",\n              children: [\"Paid on \", order.paidAt]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-danger\",\n              children: \"Not Paid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Order Items\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this), (order === null || order === void 0 ? void 0 : order.orderItems.length) === 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Order is empty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-group\",\n              children: order === null || order === void 0 ? void 0 : order.orderItems.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-group-item\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col\",\n                    children: /*#__PURE__*/_jsxDEV(\"image\", {\n                      src: item === null || item === void 0 ? void 0 : item.image,\n                      alt: item === null || item === void 0 ? void 0 : item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col\",\n                    children: /*#__PURE__*/_jsxDEV(NavLink, {\n                      to: `/product/${item === null || item === void 0 ? void 0 : item.product}`,\n                      children: item === null || item === void 0 ? void 0 : item.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 103,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 102,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-4\",\n                    children: [item === null || item === void 0 ? void 0 : item.quantity, \" x $\", item === null || item === void 0 ? void 0 : item.price, \" = $\", (item === null || item === void 0 ? void 0 : item.quantity) * (item === null || item === void 0 ? void 0 : item.price)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Order Summary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: \"Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [\"$\", order === null || order === void 0 ? void 0 : order.itemsPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: \"Shipping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [\"$\", order === null || order === void 0 ? void 0 : order.shippingPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: \"Tax\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [\"$\", order === null || order === void 0 ? void 0 : order.taxPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: \"Total\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col\",\n                  children: [\"$\", order === null || order === void 0 ? void 0 : order.totalPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 10\n  }, this);\n}\n\n_s(OrderScreen, \"oRcvUyzdi7i8KqWhivurMns4zE4=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = OrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"sources":["/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/src/screens/OrderScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","NavLink","CheckoutSteps","createOrder","getOrderDetail","history","axios","OrderScreen","match","dispatch","orderId","params","id","orderDetail","state","sdkReady","setSdkReady","order","loading","orderPay","loadingPay","success","successPay","addPayPalScript","data","clientId","get","console","log","script","document","createElement","type","async","src","onload","body","appendChild","_id","user","name","email","shippingAddress","address","city","postalCode","country","isDelivered","deliveredAt","paymentMethod","isPaid","paidAt","orderItems","length","map","item","index","image","product","quantity","price","itemsPrice","shippingPrice","taxPrice","totalPrice"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { createOrder, getOrderDetail } from '../redux/actions/orderAction';\nimport { history } from '../utils/history/history';\nimport axios from 'axios'; \n\nexport default function OrderScreen({match}) {\n    \n    const dispatch = useDispatch()\n    const orderId = match.params.id\n    const orderDetail = useSelector(state => state.orderDetail)\n    const [sdkReady, setSdkReady] = useState(false);\n    const {order, loading } = orderDetail;\n\n    const orderPay = useSelector(state => state.orderPay)\n    const {loading:loadingPay, success:successPay } = orderPay;\n\n    \n    useEffect(() => {\n        const addPayPalScript = async () => {\n            const {data: clientId} = await axios.get('http://localhost:5000/api/config/paypal')\n            console.log(clientId);\n            const script = document.createElement('script')\n            script.type = \"text/javascript\"\n            script.async = true \n            script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`\n            script.onload = () => {\n                setSdkReady(true)\n            }\n            document.body.appendChild(script)\n        }\n        if(!order || successPay) {\n            dispatch(getOrderDetail(orderId))\n        }\n        addPayPalScript()\n    }, [dispatch, orderId, successPay, order]);\n\n\n\n  return <div>\n      <CheckoutSteps step1 step2 step3 step4/>\n      OrderScreen\n      <h1>Order {order?._id}</h1>\n      <div className=\"row\">\n          <div className=\"col-8\">\n              <ul className=\"list-group\">\n                  <li className=\"list-group-item\">\n                      <h4>Shipping</h4>\n                      <p>\n                          <strong>Name : </strong> {order?.user?.name}\n                      </p>\n                      <p> \n                          <strong>Email: </strong> {' '} \n                        <a href={`mailto: ${order?.user?.email}`}>{order?.user?.email}</a>\n                      </p>\n                      <p>\n                <strong>Address:</strong>\n                {order?.shippingAddress.address}, {order?.shippingAddress.city}{' '}\n                {order?.shippingAddress.postalCode},{' '}\n                {order?.shippingAddress.country}\n              </p>\n              {order?.isDelivered ? (\n                <div  className = \"text-danger\">\n                  Delivered on {order?.deliveredAt}\n                </div>\n              ) : (\n                <div className = \"text-danger\">Not Delivered</div>\n              )}\n\n\n                  </li>\n                  <li className=\"list-group-item\">\n                  <h4>Payment Method</h4>\n              <p>\n                <strong>Method: </strong>\n                {order?.paymentMethod}\n              </p> \n              {order?.isPaid ? (\n                <div className = \"text-danger\">Paid on {order.paidAt}</div>\n              ) : (\n                <div className = \"text-danger\">Not Paid</div>\n              )}\n\n                  </li>\n                  <li className=\"list-group-item\">\n                  <h4>Order Items</h4>\n                  {order?.orderItems.length === 0 ? (\n                <h2>Order is empty</h2>\n              ) : (\n                <ul className=\"list-group\">\n                  {order?.orderItems.map((item, index) => (\n                    <li className=\"list-group-item\" key={index}>\n                      <div className=\"row\">\n                        <div className=\"col\">\n                          <image\n                            src=  {item?.image}\n                            alt={item?.name}\n                          />\n                        </div>\n                        <div className=\"col\">\n                          <NavLink to={`/product/${item?.product}`}>\n                            {item?.name}\n                          </NavLink>\n                        </div>\n                        <div className=\"col-4\">\n                          {item?.quantity} x ${item?.price} = ${item?.quantity * item?.price}\n                        </div>\n                      </div>\n                    </li>\n                  ))}\n                </ul>\n              )}\n                  </li>\n              </ul>\n          </div>\n          <div className=\"col-4\">\n          <div className= \"card\">\n            <ul>\n              <li>\n                <h2>Order Summary</h2>\n              </li>\n              <li>\n                <div className = \"row\">\n                  <div className = \"col\">Items</div>\n                  <div className = \"col\">${order?.itemsPrice}</div>\n                </div>\n              </li>\n              <li>\n                <div className = \"row\">\n                  <div className = \"col\">Shipping</div>\n                  <div className = \"col\">${order?.shippingPrice}</div>\n                </div>\n              </li>\n              <li>\n                <div className = \"row\">\n                  <div className = \"col\">Tax</div>\n                  <div className = \"col\">${order?.taxPrice}</div>\n                </div>\n              </li>\n              <li>\n                <div className = \"row\">\n                  <div className = \"col\">Total</div>\n                  <div className = \"col\">${order?.totalPrice}</div>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n      </div>\n  </div>;\n}\n"]},"metadata":{},"sourceType":"module"}