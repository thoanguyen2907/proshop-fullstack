{"ast":null,"code":"import _slicedToArray from\"/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{login,register}from'../redux/actions/userAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisterScreen(_ref){var location=_ref.location,history=_ref.history;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.userLogin;}),loading=_useSelector.loading,error=_useSelector.error,userInfo=_useSelector.userInfo;var redirect=location.search?location.search.split('=')[1]:'/';var handleSubmit=function handleSubmit(e){e.preventDefault();if(password!==confirmPassword){setMessage('Password do not match');return;}dispatch(register(name,email,password));};useEffect(function(){if(userInfo){history.push(redirect);}},[history,userInfo,redirect]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"name\",onChange:function onChange(e){return setName(e.target.value);},value:name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email}),/*#__PURE__*/_jsx(\"div\",{className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"confirmPassword\",onChange:function onChange(e){return setConfirmPassword(e.target.value);},value:confirmPassword}),/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\"})]});}","map":{"version":3,"sources":["/Users/thoanguyen/Library/Mobile Documents/com~apple~CloudDocs/fullstack/proshop/frontend/src/screens/RegisterScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","login","register","RegisterScreen","location","history","email","setEmail","password","setPassword","name","setName","confirmPassword","setConfirmPassword","message","setMessage","dispatch","state","userLogin","loading","error","userInfo","redirect","search","split","handleSubmit","e","preventDefault","push","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {login, register} from '../redux/actions/userAction'\nexport default function RegisterScreen({location, history}) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [name, setName] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [message, setMessage] = useState('');\n   \n    const dispatch = useDispatch()\n    const {loading, error, userInfo} = useSelector(state => state.userLogin)\n\n    const redirect = location.search ? location.search.split('=')[1] : '/'\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(password !== confirmPassword) {\n            setMessage('Password do not match')\n            return;\n        }\n        dispatch(register(name, email, password))\n    }\n    useEffect(() => {\n        if(userInfo) {\n            history.push(redirect)\n        }\n    }, [history, userInfo, redirect]);\n    return (\n        <div className='container'>\n            <h3>Register</h3>\n         <form onSubmit = {handleSubmit}>\n\n         <div className=\"mb-3\">\n    <label className=\"form-label\">Your Name</label>\n    <input type=\"text\" className=\"form-control\" name = \"name\" onChange={(e) => setName(e.target.value)}  value = {name}/>\n\n  </div>\n\n  <div className=\"mb-3\">\n    <label className=\"form-label\">Email address</label>\n    <input type=\"email\" className=\"form-control\" name = \"email\" onChange={(e) => setEmail(e.target.value)}  value = {email}/>\n    <div className=\"form-text\">We'll never share your email with anyone else.</div>\n  </div>\n  <div className=\"mb-3\">\n    <label className=\"form-label\">Password</label>\n    <input type=\"password\" className=\"form-control\" name = \"password\" onChange={(e) => setPassword(e.target.value)} value = {password} />\n  </div>\n\n  <div className=\"mb-3\">\n    <label className=\"form-label\">Confirm Password</label>\n    <input type=\"password\" className=\"form-control\" name = \"confirmPassword\" onChange={(e) => setConfirmPassword(e.target.value)} value = {confirmPassword} />\n  <div className=\"text-danger\">{message}</div>\n  </div>\n\n  <button type=\"submit\" className=\"btn btn-primary\">Submit</button>\n</form>\n        <div className=\"row\"></div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}